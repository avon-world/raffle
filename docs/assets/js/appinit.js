/*! raffle v1.0.0 | ISC License | https://github.com/avon-world/raffle */
Array.prototype.shuffle=function(a){var b=[],c=Object.assign([],this),d=c.length,e=null,f=null;for(e=0;e<d;e++)f=~~(Math.random()*c.length),b.push(c[f]),c.splice(f,1);return Object.assign(this,b),this},window.debuger=!0,function(a){window.debuger="boolean"==typeof window.debuger&&window.debuger,a(".inputnumber").each(function(){var b=a(this),c=a(".up",b),d=a(".down",b),e=a("input[type=number]",b),f=parseFloat(e.val())?parseFloat(e.val()):0,g=parseFloat(e.attr("step"))?parseFloat(e.attr("step")):1,h=0,i=0,j=function(a){if(!e[0].disabled){var b=parseFloat(e.val())?parseFloat(e.val()):0;switch(f=b,a){case"min":if(parseFloat(e.attr("min"))){var c=parseFloat(e.attr("min"));b=f-g,f=b<c?f:b}else f-=g;break;case"max":if(parseFloat(e.attr("max"))){var d=parseFloat(e.attr("max"));b=f+g,f=b>d?f:b}else f+=g}e.val(f).trigger("input")}};e.on("input change",function(a){f=parseFloat(e.val())?parseFloat(e.val()):0}),d.on("click",function(a){return a.preventDefault(),!1}).on("mousedown",function(){clearInterval(h),clearTimeout(i),j("min"),i=setTimeout(function(){h=setInterval(function(){j("min")},50)},250)}),c.on("click",function(a){return a.preventDefault(),!1}).on("mousedown",function(){clearInterval(h),clearTimeout(i),j("max"),i=setTimeout(function(){h=setInterval(function(){j("max")},50)},250)}),a(document).on("mouseup",function(a){clearInterval(h),clearTimeout(i)}).on("mouseleave",".up, .down",function(a){clearInterval(h),clearTimeout(i)})});var b=[],c=0,d=0,e=0,f=!1,g=a("#loto"),h=a(".rf-raffle"),i=function(){var c,f,k;clearTimeout(d),a("span[data-number]",g).removeClass("pre-active"),h.hasClass("active")||h.addClass("active"),++e,e<70?(b.shuffle(),c=b.length-1,f=Math.round(Math.random()*c+c-c),k=b[f],a("span[data-number='"+k+"']",g).addClass("pre-active"),d=setTimeout(i,60)):(e=0,c=b.length-1,f=Math.round(Math.random()*c+c-c),k=b[f],a("span[data-number="+k+"]",g).addClass("active"),b.splice(f,1),b.length?(1==b.length&&(e=70),d=setTimeout(i,3e3)):j())},j=function(){[].forEach.call(a("button, input"),function(b){"btnclear"!=a(b).attr("id")&&b.removeAttribute("disabled")}),a(".inputnumber").removeClass("disabled"),h.removeClass("active"),a("#btnadd")[0].removeAttribute("disabled"),f=!1,e=0,a("#prizes").children().length?a("#btnclear")[0].removeAttribute("disabled"):a("#btnclear").attr("disabled","disabled")},k=function(){setTimeout(function(){a(window).trigger("resize")},5)},l=function(d){g.empty(),b=[],ret=parseInt(d),c=ret;for(var e=0;e<ret;++e){var f=e+1,h=a(document.createElement("span")).attr("data-number",f);b.push(f),g.append(h.append(document.createElement("span")))}k()};if(h.on("click",function(d){return d.preventDefault(),!f&&b.length&&(c=b.length,f=!0,e=0,a(".inputnumber").addClass("disabled"),a("input[type=number], #btnadd").attr("disabled","disabled"),i(),a(this).addClass("active")),!1}),a("input[type='number']").on("blur",function(b){var c=a(this),d=c.attr("id"),e=parseInt(c.val());e||(e=1,c.val(e)),"sizenum"==d&&l(e)}).on("input change",function(b){var c=a(this),d=c.attr("id"),e=parseInt(c.val());e=e||0,"sizenum"==d&&l(e)}),a("input[type='number']").trigger("input"),a(".date").attr({"data-date":function(){var a=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],b=new Date;return" от "+b.getDate()+a[b.getMonth()]+" "+b.getFullYear()+" г."}()}),"function"==typeof MutationObserver){var m=a("#prizes")[0],n=a("#btnclear")[0],o={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},p=function(b){a(m).children().length?n.disabled&&n.removeAttribute("disabled"):n.disabled||a(n).attr("disabled","disabled"),f&&a(n).attr("disabled","disabled")};new MutationObserver(p).observe(m,o)}}(jQuery);
//# sourceMappingURL=appinit.js.map